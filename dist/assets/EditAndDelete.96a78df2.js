import{j as a,I as g,a as t,u as N,r as i,F as w,U as v,V as C,W as S,X as y}from"./index.a7cc8b2c.js";import{c as D,d as P}from"./index.esm.cde6a157.js";import{b as p,S as E,a as F}from"./notification.351c0513.js";import{b as k}from"./index.esm.6a063d1b.js";import{u as B}from"./useDispatch.400b06d7.js";import"./iconBase.c9359c8f.js";const I=({children:s,modal:c,setModal:r})=>a(g,{children:["  ",c&&t("div",{className:"overlay",children:a("div",{className:"container-modal",children:[t("button",{className:"close",onClick:()=>r(!1),children:t(k,{})}),s]})})]}),R=()=>{const s=B(),c=N(e=>e.products.list),[r,n]=i.exports.useState(!1),[m,f]=i.exports.useState(""),[d,u]=i.exports.useState({price:0,productName:"",description:"",quantityInStock:0});i.exports.useEffect(()=>{s(w())},[]);const h=e=>{p.fire({title:"\xBFEst\xE1s seguro de eliminar este producto?",text:"No podras revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar !"}).then(o=>{o.isConfirmed&&(p.fire("Deleted!","Your file has been deleted.","success"),v("/products/delete/",e),s(C(e)))})},l=e=>{let o=e.target.value;u({...d,[e.target.name]:o})},b=e=>{n(!0),f(e)},x=async e=>{e.preventDefault();const o={...d,idProduct:m};await S("/products/update/",m,d)?(s(y(o)),u({price:0,productName:"",description:"",quantityInStock:0}),n(!1),E("Actualizado","La actualizacion se realizo correctamente")):F("La peticion fallo \u{1F480}")};return a("section",{className:"flex flex-col gap-11  justify-center items-end p-2 pt-10 md:w-[100%] w-full",children:[t("h2",{className:"text-lg  font-semibold",children:"Hola admin! me alegra tenerte de nuevo \u{1F601}!"}),c.map(e=>a("article",{className:"flex p-1 gap-1 justify-between w-[100%] md:w-[65%] h-[auto] items-center shadow drop-shadow-2xl",children:[t("div",{className:"md:h-[8rem]  h-[7rem] ",children:t("img",{src:e.ProductImgs[0].imgUrl,alt:"imagen de prueba",className:"h-full"})}),a("div",{className:"flex flex-col text-sm w-2/5 md:gap-2",children:[a("p",{children:["Producto: ",e.productName]}),a("p",{children:["Detalles: ",e.description]}),a("p",{children:["Precio: ",e.price]}),a("p",{children:["Cantidad disponible: ",e.quantityInStock]})]}),a("div",{className:"flex flex-col gap-4 w-[8rem] items-center",children:[t("button",{onClick:()=>h(e.id),className:"flex items-center  bg-[#BF0426] md:rounded-[1.1em] md:p-[1em] rounded-[0.6em] p-[0.6em] text-[#DEDEDE] hover:bg-[#db2748]",children:t(D,{})}),t("button",{onClick:()=>b(e.id),className:"flex items-center  bg-[#40c057]  md:rounded-[1.1em] md:p-[1em] rounded-[0.6em] p-[0.6em] text-[#DEDEDE] font-bold hover:bg-[#56b066]",children:t(P,{})})]})]},e.id)),r&&t(I,{modal:r,setModal:n,children:a("form",{onSubmit:x,className:"flex flex-col justify-center items-center gap-5 md:p-0 p-4 h-full w-screen md:w-full",children:[t("input",{type:"text",name:"productName",placeholder:"Nombre del producto",className:"form-inputs ",onChange:l}),t("input",{type:"text",name:"description",placeholder:"Descripcion",className:"form-inputs",onChange:l}),t("input",{type:"number",name:"quantityInStock",placeholder:"Cantidad Disponible",className:"form-inputs",onChange:l}),t("input",{type:"number",name:"price",placeholder:"Precio",className:"form-inputs",onChange:l}),a("div",{className:"flex gap-3 md:w-2/5  w-3/4",children:[t("button",{onClick:()=>n(!1),className:"form-buttons  bg-red-500 border-transparent font-semibold  text-white  hover:bg-red-800 transition-all",children:"cancelar"}),t("button",{className:"form-buttons  bg-emerald-600/75  rounded-md text-white font-semibold hover:bg-emerald-500  hover:text-white transition-all",children:"Actualizar"})]})]})})]})};export{R as default};
