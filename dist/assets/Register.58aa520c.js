import{S as b,s as g,h as v,n as m,i as R,p as y,k as p,r as c,d as N,P as f,l as S,a as n,j as o,L as w}from"./index.6f15b728.js";import{F as M}from"./index.esm.c351fc2c.js";import{S as E,E as C}from"./notification.a6c816f9.js";import"./iconBase.91ee08b9.js";class O extends b{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.client.defaultMutationOptions(t),g(e,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const e={listeners:!0};t.type==="success"?e.onSuccess=!0:t.type==="error"&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:v(),e={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){m.batch(()=>{if(this.mutateOptions){if(t.onSuccess){var e,i,l,s;(e=(i=this.mutateOptions).onSuccess)==null||e.call(i,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(l=(s=this.mutateOptions).onSettled)==null||l.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var a,d,u,h;(a=(d=this.mutateOptions).onError)==null||a.call(d,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(h=this.mutateOptions).onSettled)==null||u.call(h,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(x=>{x(this.currentResult)})})}}const A=R.exports.useSyncExternalStore;function j(r,t){return typeof r=="function"?r(...t):!!r}function F(r,t,e){const i=y(r,t,e),l=p({context:i.context}),[s]=c.exports.useState(()=>new O(l,i));c.exports.useEffect(()=>{s.setOptions(i)},[s,i]);const a=A(c.exports.useCallback(u=>s.subscribe(m.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),d=c.exports.useCallback((u,h)=>{s.mutate(u,h).catch(I)},[s]);if(a.error&&j(s.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:d,mutateAsync:a.mutate}}function I(){}const L=r=>S(r,"/users"),k=()=>{p();const r=N();return F(L,{onSuccess:t=>{E("\xA1Felicitaciones!","Tu cuenta ha sido creada con \xE9xito."),setTimeout(()=>{r(`/${f.LOGIN}`,{replace:!0})},2100)},onError:t=>{C("Error al crear la cuenta")}})},D=()=>{const[r,t]=c.exports.useState({userName:"",password:"",firstName:"Pepito",lastName:"Example",email:"",phoneNumber:0,userRole:"admin",profilePic:""}),e=s=>{let a=s.target.value;t({...r,[s.target.name]:a})},{mutate:i}=k();return n("div",{className:"py-4 mt-4 max-w-[90%] sm:max-w-[70%] md:max-w-2xl md:py-0 lg:max-w-4xl mx-auto md:mt-20 h-fit border rounded-md drop-shadow",children:o("div",{className:"flex items-center justify-center md:h-[700px]",children:[o("div",{className:"flex flex-col items-center sm:w-full  md:mx-auto md:w-[40%] gap-16 px-8",children:[o("div",{className:"w-full text-start",children:[n("h2",{className:"font-semibold text-3xl",children:"Crea tu cuenta"}),n("p",{className:"font-medium text-sm",children:"\xA1Unite a la comunidad de MOVEment!"})]}),o("form",{className:"w-full flex flex-col items-center justify-center gap-20",onSubmit:async s=>{s.preventDefault(),i(r)},children:[o("div",{className:"w-full flex flex-col items-center gap-3",children:[n("input",{className:"form-inputs",onChange:e,type:"text",name:"userName",placeholder:"Ingresa tu nombre de usuario"}),n("input",{className:"form-inputs",onChange:e,type:"email",name:"email",placeholder:"Ingresa tu E-mail"}),n("input",{className:"form-inputs",onChange:e,type:"password",name:"password",placeholder:"Ingresa tu contrase\xF1a"})]}),o("div",{className:"w-full flex flex-col items-center gap-3",children:[n("button",{className:"form-buttons bg-[#3A3A3A]  text-white",type:"submit",children:"Crear cuenta"}),o("button",{className:"form-buttons flex items-center justify-center gap-2 bg-transparent border-[3px] border-[#3A3A3A] rounded-md text-[#383838] font-semibold",type:"button",children:[n(M,{className:"text-xl"}),"Registrarse con Google"]})]})]}),o(w,{to:`/${f.LOGIN}`,children:["\xBFYa ten\xE9s una cuenta? ",n("span",{className:"font-semibold text-black",children:"Inicia sesi\xF3n"})]})]}),n("div",{className:"hidden md:block w-[60%] h-full",children:n("div",{className:"rounded-r-md bg-hero-register bg-center bg-cover bg-no-repeat h-full"})})]})})};export{D as default};
